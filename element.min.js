customElements.define("mark-down",class extends HTMLElement{connectedCallback(markdown=((str,counter=1,id,codes={})=>(str=str.replace(/```([\s\S]+?)```/g,((_,code)=>(codes[id="pc"+counter++]="<pre><code>"+code.split("\n").map((l=>l.trim())).filter((l=>!!l)).join("\n")+"</code></pre>",id))),str=Object.keys(codes).reduce(((html,id)=>html.replace(id,codes[id])),[[/#{4}\s?([^\n]+)/g,"<h4>$1</h4>"],[/#{3}\s?([^\n]+)/g,"<h3>$1</h3>"],[/#{2}\s?([^\n]+)/g,"<h2>$1</h2>"],[/#{1}\s?([^\n]+)/g,"<h1>$1</h1>"],[/\*\*([^*]+)\*\*/g,"<b>$1</b>"],[/__([^_]+)__/g,"<b>$1</b>"],[/\*\s?([^\n]+)\*/g,"<i>$1</i>"],[/_([^_`]+)_/g,"<i>$1</i>"],[/([^\n]+\n?)/g,"<p>$1</p>"],[/([^\n]+)(\+)([^\n]+)/g,"<ul><li>$3</li></ul>"],[/([^\n]+)(\*)([^\n]+)/g,"<ul><li>$3</li></ul>"],[/!\[([^\]]+)\]\(([^)]+)\s"([^")]+)"\)/g,'<img src="$2" alt="$1" title="$3">'],[/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2">$1</a>']].reduce(((html,rgx)=>html.replace(...rgx)),str)),str))){setTimeout((()=>this.innerHTML=markdown(this.innerHTML)))}});